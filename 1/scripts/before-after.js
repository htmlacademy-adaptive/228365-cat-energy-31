document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".before-after__handle"),l=document.querySelector(".before-after__image--before"),d=document.querySelector(".before-after__image--after"),f=document.querySelector(".before-after__handle-wrapper");function s(r){let i=f.offsetWidth,o=r/(i-e.offsetWidth)*100;l.style.clipPath=`polygon(0 0, ${o}% 0, ${o}% 100%, 0 100%)`,d.style.clipPath=`polygon(${o}% 0, 100% 0, 100% 100%, ${o}% 100%)`}e.onmousedown=function(r){r.preventDefault();let i=f.getBoundingClientRect(),o=i.width;document.onmousemove=function(t){let n=t.clientX-i.left;n<0&&(n=0);let c=o-e.offsetWidth;n>c&&(n=c),e.style.left=`${n}px`,s(n)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}},e.ontouchstart=function(r){let o=r.touches[0].clientX;f.ontouchmove=function(t){let c=t.touches[0].clientX-o+e.offsetLeft;c<0&&(c=0);let u=f.offsetWidth-e.offsetWidth;c>u&&(c=u),e.style.left=`${c}px`,s(c)},f.ontouchend=function(){f.ontouchmove=null,f.ontouchend=null}},e.onkeydown=function(r){let o=f.getBoundingClientRect(),t=e.offsetLeft;r.key==="ArrowLeft"?t-=50:r.key==="ArrowRight"&&(t+=50),t<0&&(t=0);let n=o.width-e.offsetWidth;t>n&&(t=n),e.style.left=`${t}px`,s(t)},e.setAttribute("tabindex","0")});
